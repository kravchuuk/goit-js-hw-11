{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst fetchUsersBtn = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst textInput = document.querySelector('.text-input');\nconst modal = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\nfetchUsersBtn.addEventListener('submit', event => {\n  event.preventDefault();\n  const usersValue = textInput.value;\n\n  gallery.innerHTML = '';\n  textInput.value = '';\n  loader.style.display = 'block';\n\n  const searchParams = new URLSearchParams({\n    key: '41611095-6f6895f75fda0efc7328923df',\n    q: usersValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      loader.style.display = 'none';\n\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n        });\n        return;\n      }\n      const imagesHTML = data.hits.reduce((html, image) => {\n        return html + imageCard(image);\n      }, '');\n\n      gallery.innerHTML = imagesHTML;\n      modal.refresh();\n    })\n    .catch(error => {\n      showAlert(error.toString());\n    });\n});\n\nfunction imageCard(images) {\n  return `<li>\n      <a href=\"${images.largeImageURL}\">\n        <img src=\"${images.webformatURL}\" alt=\"${images.tags}\">\n      </a>\n      <div class=\"info\">\n        <div class=\"image-info\">\n          <span>Likes</span>\n          <span class=\"image-value\">${images.likes}</span>\n        </div>\n        <div class=\"image-info\">\n          <span>Views</span>\n          <span class=\"image-value\">${images.views}</span>\n        </div>\n        <div class=\"image-info\">\n          <span>Comments</span>\n          <span class=\"image-value\">${images.comments}</span>\n        </div>\n        <div class=\"image-info\">\n          <span>Downloads</span>\n          <span class=\"image-value\">${images.downloads}</span>\n        </div>\n      </div>\n    </li>\n  `;\n}\n"],"names":["fetchUsersBtn","gallery","textInput","modal","SimpleLightbox","loader","event","usersValue","searchParams","response","data","iziToast","imagesHTML","html","image","imageCard","error","images"],"mappings":"6vBAKA,MAAMA,EAAgB,SAAS,cAAc,OAAO,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAQ,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvBL,EAAc,iBAAiB,SAAUM,GAAS,CAChDA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAU,MAE7BD,EAAQ,UAAY,GACpBC,EAAU,MAAQ,GAClBG,EAAO,MAAM,QAAU,QAEvB,MAAMG,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BC,GAAc,EAC7C,KAAKC,GAAY,CAGhB,GAFAJ,EAAO,MAAM,QAAU,OAEnB,CAACI,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UACpB,CAAS,EACD,MACD,CACD,MAAMC,EAAaF,EAAK,KAAK,OAAO,CAACG,EAAMC,IAClCD,EAAOE,EAAUD,CAAK,EAC5B,EAAE,EAELb,EAAQ,UAAYW,EACpBT,EAAM,QAAO,CACnB,CAAK,EACA,MAAMa,GAAS,CACd,UAAUA,EAAM,SAAQ,CAAE,CAChC,CAAK,CACL,CAAC,EAED,SAASD,EAAUE,EAAQ,CACzB,MAAO;AAAA,iBACQA,EAAO;AAAA,oBACJA,EAAO,sBAAsBA,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKlBA,EAAO;AAAA;AAAA;AAAA;AAAA,sCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,sCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,sCAIPA,EAAO;AAAA;AAAA;AAAA;AAAA,GAK7C"}